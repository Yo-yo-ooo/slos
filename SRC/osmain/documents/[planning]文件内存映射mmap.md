# 文件映射到内存 mmap的实现 (lab5 challenge)



## 关于`mmap`

### 实现目标

> `mmap`是一种内存映射文件的方法，即将一个文件或者其它对象映射到进程的地址空间，实现文件磁盘地址和进程虚拟地址空间中一段虚拟地址的一一对映关系。实现这样的映射关系后，进程就可以采用指针的方式读写操作这一段内存，而系统会自动回写脏页面到对应的文件磁盘上，即完成了对文件的操作而不必再调用read,write等系统调用函数。相反，内核空间对这段区域的修改也直接反映用户空间，从而可以实现不同进程间的文件共享。
>
> http://www.cnblogs.com/huxiao-tee/p/4660352.html

### 实现原理

- 当进程调用`mmap`，其需要在当前的虚拟地址空间中找到一段空闲的满足要求的连续虚拟地址。
- 获取文件描述符，找到文件结构体。

